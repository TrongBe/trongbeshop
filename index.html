<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trong Be Shop</title>

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #f5f5f5;
}

header, footer {
  background: black;
  color: white;
  text-align: center;
  padding: 15px;
  width: 100%;
}

.container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 10px;
  padding: 10px;
  justify-items: center;
}

.product {
  background: white;
  padding: 10px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  text-align: center;
  width: fit-content;
  margin: 0 auto;
}

.product img {
  width: 100%;
  max-width: 300px;
  height: auto;
  border-radius: 10px;
  display: block;
  margin: 0 auto;
}

.price-box {
  margin: 10px 0;
}

.discount-badge {
  background: #ff424e;
  color: white;
  padding: 4px 6px;
  border-radius: 4px;
  font-size: 14px;
}

.sale-price {
  color: #ff424e;
  font-size: 22px;
  font-weight: bold;
  margin-left: 8px;
}

.old-price {
  color: #999;
  text-decoration: line-through;
  font-size: 14px;
}

.btn-group {
  display: flex;
  gap: 10px;
}

.buy-btn {
  background: black;
  color: white;
  border: none;
  padding: 12px;
  width: 100%;
  border-radius: 5px;
  cursor: pointer;
}

.zalo-btn {
  background: #0a7cff;
  color: white;
  border: none;
  padding: 12px;
  width: 100%;
  border-radius: 5px;
  cursor: pointer;
}

/* POPUP */
#overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  z-index: 999;
}

#orderForm {
  background: white;
  width: 90%;
  max-width: 400px;
  padding: 20px;
  border-radius: 10px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

#orderForm input,
#orderForm textarea {
  width: 100%;
  padding: 8px;
  margin-bottom: 10px;
}

.close-btn {
  text-align: right;
  cursor: pointer;
  color: #999;
}
</style>
</head>

<body>

<header>
<h1>Trong Be Clothing</h1>
<p>Qu·∫ßn √°o n·ªØ xinh x·∫Øn ‚Ä¢ Gi√° t·ªët ‚Ä¢ Uy t√≠n</p>
</header>

<div class="container" id="product-list">
  <!-- S·∫£n ph·∫©m s·∫Ω t·ª± load v√†o ƒë√¢y -->
</div>

<!-- POPUP FORM -->
<div id="overlay">
  <div id="orderForm">
    <div class="close-btn" onclick="closeForm()">‚úñ</div>

    <h3>üìù Th√¥ng tin ƒë·∫∑t h√†ng</h3>
    <p><b>S·∫£n ph·∫©m:</b> <span id="productName"></span></p>
    <p><b>T·ªïng ti·ªÅn:</b> <span id="totalText"></span></p>

    <input id="name" placeholder="H·ªç v√† t√™n">
    <input id="phone" placeholder="S·ªë ƒëi·ªán tho·∫°i">
    <input id="address" placeholder="ƒê·ªãa ch·ªâ">
    <textarea id="note" placeholder="Ghi ch√∫ (size, m√†u, y√™u c·∫ßu th√™m...)"></textarea>

    <button class="buy-btn" onclick="sendOrder()">G·ª¨I ƒê∆†N</button>
  </div>
</div>

<footer>
  <p>¬© 2026 Trong Be Shop ‚Äî B·∫£n quy·ªÅn thu·ªôc v·ªÅ Trong Be Clothing.</p>
</footer>

<script>
let product = "";
let price = 0;

// ======= üî• QUAN TR·ªåNG: D√ÅN LINK GOOGLE SHEET C·ª¶A EM V√ÄO ƒê√ÇY üî• =======
const SHEET_URL = "https://docs.google.com/forms/d/e/1FAIpQLSfP4nK-Tefz7SxgHqlEtiMxNWgNMawMEEH9kJBoWSxXkqL_Dg/viewform?usp=dialog";
// üëÜ EM PH·∫¢I THAY LINK N√ÄY B·∫∞NG LINK SHEET C·ª¶A EM (anh s·∫Ω h∆∞·ªõng d·∫´n b√™n d∆∞·ªõi)

fetch(SHEET_URL)
  .then(res => res.text())
  .then(data => {
    const rows = data.split("\n").slice(1); // b·ªè d√≤ng ti√™u ƒë·ªÅ
    let html = "";

    rows.forEach(row => {
      if (!row.trim()) return;
      const cols = row.split(",");

      const id = cols[0];
      const name = cols[1];
      const image = cols[2];
      const sale = cols[3];
      const old = cols[4];
      const discount = cols[5];

      html += `
      <div class="product">
        <img src="${image}">
        <h3>[M√£ ${id}] ${name}</h3>
        <div class="price-box">
          <span class="discount-badge">-${discount}%</span>
          <span class="sale-price">${Number(sale).toLocaleString("vi-VN")}ƒë</span>
          <span class="old-price">${Number(old).toLocaleString("vi-VN")}ƒë</span>
        </div>
        <div class="btn-group">
          <button class="buy-btn" onclick="openForm('[M√£ ${id}] ${name}', ${sale})">MUA NGAY</button>
          <button class="zalo-btn" onclick="openZalo()">CHAT ZALO</button>
        </div>
      </div>
      `;
    });

    document.getElementById("product-list").innerHTML = html;
  });

function openForm(p, pr) {
  product = p;
  price = pr;

  document.getElementById("productName").innerText = product;
  document.getElementById("totalText").innerText =
    price.toLocaleString("vi-VN") + " ƒë";

  document.getElementById("overlay").style.display = "block";
}

function closeForm() {
  document.getElementById("overlay").style.display = "none";
}

function openZalo() {
  window.open("http://zaloapp.com/qr/p/zrdh0azjcnbr", "_blank");
}

function sendOrder() {
  const name = document.getElementById("name").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const address = document.getElementById("address").value.trim();
  const note = document.getElementById("note").value.trim();

  if (!name || !phone || !address) {
    alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");
    return;
  }

  const formURL =
    "https://docs.google.com/forms/d/e/1FAIpQLSfP4nK-Tefz7SxgHqlEtiMxNWgNMawMEEH9kJBoWSxXkqL_Dg/formResponse";

  const data = new FormData();
  data.append("entry.2117813281", name);
  data.append("entry.1913338152", phone);
  data.append("entry.1464387788", address);
  data.append("entry.1384420991", product);
  data.append("entry.535808915", note);

  fetch(formURL, { method: "POST", mode: "no-cors", body: data });

  alert("üéâ ƒê·∫∑t h√†ng th√†nh c√¥ng! Shop s·∫Ω li√™n h·ªá s·ªõm üíñ");
  closeForm();
}
</script>

</body>
</html>
